from PySimpleGUI import Button
from gametoolbox.os.file_handling import base64_string


class Token(Button):

    __size_range = range(-9, 10)

    __colors = ("black", "white", None)

    __IMAGE_SOURCES = (b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABRklEQVR4Xu2XUQ7CMAxDt/sfGpAAgSZgY35OVcV8r67z4rRlXZr/1ub1LwGQBDQnkBFoHoAcghmBjEBzAhmB5gHILZARyAjUE7jsbFmayqrN9or+xsTuz73B2cK3QGw+bcK3CqjinzAsXi2ihuJtEBwA6M5bx4EG4C4eTwIJoKp4FEIAQO+g6u5jKaASEABQkv6VkRsoCxjv/KMwpBqkxQ+Ho+KPnAMBcDRnP75LAgCIioSUYmlxzoA7gYyAkl9grZRiafGb+VEpkP3LAoPPAdm/LBAArzmoHgOkeYjIoBQg3hGRAYch5hsTKoSAekbFCiDgfnFBIwSLV4uoAYLNp01488Q9e0Xa/dk3+PDW34NR6ql0M+CPDy4RADjSyQSTgMkahttNAnCkkwkmAZM1DLebBOBIJxNMAiZrGG43CcCRTibYPgFXgL4gQboPX/YAAAAASUVORK5CYII=', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABL0lEQVR4Xu2W0QrCUAxD3f9/tAoqiigFPWkKzV4Hae5pcrfjtPw5lp//FABJwHICqcDyAOQSTAVSgeUEUoHlAchXIBVIBZYTSAUMATgXM1uX0jWsOvQ3JnJ/8gHXk/16+AcUqUepOHB4OQQlgH83/14LiVeJKLh5OQQFAHrzUgg0APXh8TshAOAfodUJ6Do8WgOyAgEA16mSQ5aHiNydJgHVyuD3yPIQkSTgRiAVgCNeySHpRURenHalAPONCTXfA5hvTCgAnj1Q1wBdGirWcBfgfnFBIQSJV4moAILMp0wYhCD1KBUHIMj9yQd8+J2rvhKtnlqHVf+2jvcB4KA+aWYSMGkbDi9JgIP6pJlJwKRtOLwkAQ7qk2YmAZO24fCSBDioT5qZBEzahsPL+gRcAJIQHEFlK6huAAAAAElFTkSuQmCC', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABHElEQVR4Xu2W0Q6DQAgE9f8/upq0TYwvlyJDExjfD5Zh97x9G/7tw+ffBKADhhMwAsMN4CVoBIzAcAJGYLgB/AsYASMwnIARGG4A/wL/iMBr4bpSTZXNVoPfuZRoK2lyTvbr8F8YuD68wYPhSyDQAKKbL4sDCSBreNQJFIDs4TEIAgBegtT2ERcQDhAA4KprydSlpRb7qNQBOoAlkOra1GJG4E1g/B1AQkh3bHpBOAbpetMLXu6/7CggWpGiAARMJ1Y4EQKqES2eAAHXhzd4AKFEW0mT28NwdTmWaiptxr6QY9UFEOPW55QO6LPL2CQ6IMatzykd0GeXsUl0QIxbn1M6oM8uY5PogBi3Pqd0QJ9dxibRATFufU6Nd8AByxIYQUEC0uIAAAAASUVORK5CYII=', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABEUlEQVR4Xu2WUQqEQAxD9f6H3kVwQQRhiE0Xmuf/tE36MuO+hX97uP4NAyAg3AEiEA4AlyARIALhDhCBcAB4BYgAEQh3gAiEA8ArQASIwH8c+Dy0bSeyu+GT8LsfbXN1NVoV3m5EhwGq+J8Z1hmtxU8F0Qa8FW+nwE1AtAFV4q0UOAnAgOJ/LMuyLEWLbv+WfwIMKMb0Wi7+DjjMqDLBRqqtcPE9YJvTVviShbcUWGe0Fi+iwDqjtXgBBfb57A1ur8xqHNrmamu0aET7PO0Njf8dUmkMkGwbdAgCBi1TkgIBkm2DDkHAoGVKUiBAsm3QIQgYtExJCgRItg06BAGDlilJgQDJtkGHIGDQMiUp8QR8ATuzFEHHdOhWAAAAAElFTkSuQmCC', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/0lEQVR4Xu2XQQrDQAwDk/8/us2hhRIIpFqkgDy5e23Jo12yb8O/fbj+DQMgYLgDRGA4AFyCRIAIDHeACAwHgFeACBCB4Q4QgeEA8AoQASIw3AEi8BAAr4u+8YWkG14JP/sRmyvW6FB4V/zXjMhskSaC+JgJGBC4BP9FP3ofJAjAgEXKrEuyHv4RDgEQsOaAlVLr4T+61RjY57M3WLwH7PPZGyxQEJkt0kQwITZXrNHpHhz7O7z2HhiqnyLAIEU7EgM033qqIKBnl5oSCNB866mCgJ5dakogQPOtpwoCenapKYEAzbeeKgjo2aWmBAI033qqIKBnl5oSCNB866l6A+vFEEFLpk/vAAAAAElFTkSuQmCC', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA60lEQVR4Xu2VwQqEUBRC6/8/uoIKIoh6C03wzHpArx5781T+m8vvnwgAAsoTYALlAPARZAJMoDwBJlAOAK8AE2AC5QkwgXIAeAWYABMoT4AJlAPAK/DXBJYH8ux+7ILb4U/Hn5lYPVnFPhxvD8EZwFvz91VYvFlEjssIYPDJtZRjEYGAPQEm0D6BEQps07QJXdp/m4LVk1XsQwh2P3bBwe+A/O8EII84XAACwguS24MAecThAhAQXpDcHgTIIw4XgIDwguT2IEAecbgABIQXJLcHAfKIwwUgILwguT0IkEccLgAB4QXJ7dUTsALDlgxBs05tFAAAAABJRU5ErkJggg==', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA1UlEQVR4Xu2VwQ2AMBDDyv5DAw8qIQQ860hxF8jV57TbKD9b+f2HADSgnIAVKBfAR9AKWIFyAlagXAB/AStgBcoJWIFyAfwFrIAVKCdgBcoF8BewAlaAI7A/ohEbkdDz4s/LTxbL51ke+HN5BIIAgCfgS38NuAgstXJp2M226kdwcqj+BoGn5z2SqoAAUghoQMomqDk0gCKfkqsBKZug5tAAinxKrgakbIKaQwMo8im5GpCyCWoODaDIp+RqQMomqDk0gCKfkqsBKZug5tAAinxKbr0BB8MXCEEjbcvrAAAAAElFTkSuQmCC', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAxklEQVR4Xu2VgQ2EUBTCdP+hT83pDCVpXQAeFP95yL9Tfv9RABEgT6AJyAHoJ9gEmoA8gSYgB6BXoAk0AXkCTUAOQK9AE2gC8gSagByAXoEm0ATkCTQBGIDfq48VgQnfh3/Hfx0gXhDR92J9AE8O6gnAv5+/PDmBAlhIIAIWWiA9RACZ/oJ2BCy0QHqIADL9Be0IWGiB9BABZPoL2hGw0ALpIQLI9Be0I2ChBdJDBJDpL2hHwEILpIcIINNf0I6AhRZID3oCLvooBEF6VjTlAAAAAElFTkSuQmCC', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAsklEQVR4Xu3VwRHAMBDCQLv/opOPe9CDTQMag8jdM/7d8fcfATBgPAETGBfAT9AETGA8ARMYF8AVMAETGE/ABMYFcAVMwATGEzCBcQFcARMwgfEETGBcgPwKfK+AzMQM/B4+H0C+wNoAAdQJMKBuoOYzoG6g5jOgbqDmM6BuoOYzoG6g5jOgbqDmM6BuoOYzoG6g5jOgbqDmM6BuoOYzoG6g5jOgbqDmM6BuoOYzoG6g5v+tiAJBCfBVsgAAAABJRU5ErkJggg==', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAhElEQVR4Xu3VAREAMAwCseLfdIV85qAcGbv4W/z+E4AGxBNAIF4AnyACCMQTQCBeACuAAALxBBCIF8AKIIBAPAEE4gWwAgggEE8AgXgBrAACCMQTQCBeACuAAALxBBCIF8AKIIBAPAEE4gWwAgggEE8AgXgBrAACCMQTQCBeACuAQJ3AA2jYAEGs/2CBAAAAAElFTkSuQmCC', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAwUlEQVR4Xu2VyxGAQBTC3P6L9nOzg2SGbAMgBN+5xt8Z//6rACJgPIEmMA5AP8Em0ATGE2gC4wB0BZpAExhPoAmMA9AVaAJNYDyBJjAOQFegCTSB8QSawDgA7BW43/cVcN5HFYEJfx88HwDV+l8XJaAABAlEgKAE1EIEoPELxCNAUAJqIQLQ+AXiESAoAbUQAWj8AvEIEJSAWogANH6BeAQISkAtRAAav0A8AgQloBYiAI1fIB4BghJQCxGAxi8QfwCHpwhBunMB7QAAAABJRU5ErkJggg==', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAxUlEQVR4Xu2VwQ0AIQzD6P5D38EDiQ0cKWaBFNeBWeVnyu+/BKAB5QSsQLkAPoJWwAqUE7AC5QL4C1gBK1BOwAqUC+AvYAWsQDkBK1AugL+AFbAC5QSsACnAt8/Jn32oObDge/l7cQqCACj1Tm51BUjwbzZWAQGEENCAkEVgY2gAhj4kWANCFoGNoQEY+pBgDQhZBDaGBmDoQ4I1IGQR2BgagKEPCdaAkEVgY2gAhj4kWANCFoGNoQEY+pBgDQhZBDZGvQE/xjYQQe0eprcAAAAASUVORK5CYII=', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA2UlEQVR4Xu2VwQ3DMAzE4v2HbtxHgMBA+xQPOHoBSRRPXlf5W+XzXwLQgHICRqBcAI+gETAC5QSMQLkA/gJGwAiUEzAC5QL4CxgBI1BOwAiUC+AvYASMAETgs9+79NqPaAUpeg7/DE5AGAfwa3gKggCmc6cBx/E7FzB9B8Yj8B24+gg+G6/+Bqfvzr96SAQEEERAA4KWgbSiAQj2oKIaELQMpBUNQLAHFdWAoGUgrWgAgj2oqAYELQNpRQMQ7EFFNSBoGUgrGoBgDyqqAUHLQFrRAAR7UNF6A24B8iBBifgBoQAAAABJRU5ErkJggg==', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA7ElEQVR4Xu2WQQ7EIAzEyv8fvUsPvRWVkxlpzLlSEscDHVf5GeXzXwLQgHICRqBcAC9BI2AEygkYgXIBfAWMgBEoJ2AEygXwFTACRqCcgBEoF8BX4EgEfvO8mTfmoY3EC66GfwanIaAAvoY/AQEDsDs8DUEA1KWjAYubf7UA6jI0AkaAIjDr7N4DlP736FgEHs5fEMjhjwC4i1b/CoOJ2yqFR2CrK/AjAYCwI0tpQORawKY0AIQdWUoDItcCNqUBIOzIUhoQuRawKQ0AYUeW0oDItYBNaQAIO7KUBkSuBWxKA0DYkaU0IHItYFN/G+4wQaeAS8sAAAAASUVORK5CYII=', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABA0lEQVR4Xu2WUa6DMAwEyf0P3YJU+oGKGiJlWOHhu0+2x7POa0vxrxWffxGABhQnYASKC+ARNAJGoDgBI1BcAF8BI2AEihMwAsUF8BUwAkagOAEjcIcAr/X7VbetH90PWvBs8OPQJAgMQO/wOwwKAgLg6vAkBAHMPjqj26csmG6AAE6evF7zZh9DDejdxOjvjED1CGzmjFowO/9bb9NvgAA+x+OqBcT2MQP2A9oLgRoeB/APBDn49z/N0eftKX+HHMFkWAJI3g7RmwYQlJNraEDydojeNICgnFxDA5K3Q/SmAQTl5BoakLwdojcNICgn19CA5O0QvWkAQTm5hgYkb4fo7Q3UqkBBiz2XCwAAAABJRU5ErkJggg==', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABFUlEQVR4Xu2Y0QrCMBAEm///aG3BioilJcluT3b6Knp3c7NJsS3hTwuffwEABoQTIALhAnAIEgEiEE6ACIQLwC1ABIhAOAEiEC4AtwARIAI3EHisz6+ybX3c7VgLHg3+PbQThAXA1cHvACEH0Dv8DkNtAwCUh87o9h0WSA2IBjBreLUFMgMAcPCy03vmqG4DDOjdyNn3iEB6BDZDZlmgyv/Wo+wMAMDrkBi1QLl9uQEzLPh7ACMQ1MNbDPi8Lq/GwTH4+xX77D5XfB77l5gC5uhvSq/B0eYc3weAg3LlGhhQeTuO3jDAQblyDQyovB1HbxjgoFy5BgZU3o6jNwxwUK5cAwMqb8fRGwY4KFeugQGVt+Po7QksRFBB17YmcQAAAABJRU5ErkJggg==', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABJklEQVR4Xu2XyxKDMAwDyf9/dAsHODDDo9hSzXhzB0dryUnG1HyN5vonAOCA5gSIQHMDMASJABFoToAINDcApwARIALNCRCB5gbgFLBH4DOvM9eNeTldaSt2JXwv2gXCAuBX8SsMBwQ5gKfiXRCkAKLiHRBkALLEqyFIAGSLV0IAQPaZq+q+ygXpDgDAxU0v6rjsuwEOiHZk/z0RIALnr72o45gByc/l9CG4dFg1B7K7v+wVANFMHn2f7QJF92UOWKFkQVCJlwPImAdK8RYAEQhq8TYATyA4xFsB3J0LLuHb81p1Crzlv5J7wFvE/yUC1eDggGodce8HB7iJV6uHA6p1xL0fHOAmXq0eDqjWEfd+cICbeLV6OKBaR9z7wQFu4tXqtXfAF4HeYEHXxrnFAAAAAElFTkSuQmCC', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABKklEQVR4Xu2XUQ6DMAxD6f0PPWCiEj+j0rCtSHk9AIlf7TSMrfkZzfVvAMABzQkQgeYGYAgSASLQnAARaG4AXgEiQASaEyACaQN8jvNUcxwn2VOk2Er0L8EJGHYA/4qfUNwQrADeik9AsAFQiXdDsABQi3dCkANwiXdBkAJwi3dAAIBy6WjtgJR4dQxkEQDAYsdXRu38lmpDxAGqmyECROD5P1/lNF6Bi0C5IXj2lZoDKvHf10RpTQCEBmFZByRioBQvj8CMkysKavE2AA4nOMRbASghuMTbASggOMVHALyB4BYfA3DfNVYDMiH63o90EVIuValvASBFumodHFD1ZlJ94YAU6ap1cEDVm0n1hQNSpKvWwQFVbybVFw5Ika5aBwdUvZlUX+0dsAO1x3BBseXrEwAAAABJRU5ErkJggg==', b'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABO0lEQVR4Xu2XUQ7CMAxDt/sfGjbBEELABLGTSHn97xq/2Gm3LsPXOlz/AgAcMJwAERhuAIYgESACwwkQgeEG4BYgAkQgmcBlW9+OXLeVWVLKYWeiPwnOgGEF8K/wVyBOEDYAKvEHDBcECwC1eCcEOQCXeBcEKQC3eAcEGYAs8WoIAFA8OrK7r3SBxAEAOHneKlz27huKt0HYAVXdV8UAAFF74oCi/BOBO4HoIGQGMAOCBMYPwZ1fFYRo/vfawzMAADjgNkSyY6CwvywCALjfJFkuUHVf6oDjNnVDUIq3AHDGQS3eBsABwSHeCkAJwSXeDiA6F5zCH7/TwV+Bn7efDckM0c9FS57CP1NotAEAjZpRUgoOKMHe6FAc0KgZJaXggBLsjQ7FAY2aUVIKDijB3uhQHNCoGSWljHfAFYh/gEGAS3ylAAAAAElFTkSuQmCC')

    def __init__(self, color: str = None, size: int = 0):

        self.token_color = color

        super().__init__(
            image_source=self.get_image(color, size),
        )

    def print_b64(self):
        print("__IMAGE_SOURCES =", tuple([base64_string(f"../assets/jbbranch9/token/{n}.png") for n in self.__size_range]))

    def get_image(self, color: str, size: int):
        assert color in self.__colors
        assert size in self.__size_range
        if color == "black":
            sign = -1
        else:
            sign = 1
        value = sign * size
        ix = value + len(self.__IMAGE_SOURCES)//2
        return self.__IMAGE_SOURCES[ix]

    def set_image(self, color: str, size: int):
        self.token_color = color
        if color is None:
            size = 0
        self.update(image_data=self.get_image(color, size))

    def black(self, size: int = 9):
        self.set_image(color="black", size=size)

    def white(self, size: int = 9):
        self.set_image(color="white", size=size)

    def blank(self):
        self.set_image(size=0)

    def empty(self):
        self.blank()

    def player1(self):
        self.black()

    def player2(self):
        self.white()

def main():
    Token().print_b64()


if __name__=="__main__":
    main()
